@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Theme Variables */
:root {
  --custom-font-primary: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --custom-font-heading: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --custom-font-size: 16px;
  --custom-primary: #3b82f6;
  --custom-secondary: #6b7280;
  --custom-bg-light: #ffffff;
  --custom-bg-dark: #111827;
  
  /* Seasonal Theme Variables */
  --theme-primary: #3b82f6;
  --theme-secondary: #6b7280;
  --theme-accent: #f59e0b;
  --theme-background: #ffffff;
  --theme-surface: #ffffff;
  --theme-text: #111827;
}

/* Apply custom theme styles */
html, body {
  font-family: var(--custom-font-primary);
  font-size: var(--custom-font-size);
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#app {
  height: 100vh;
  width: 100vw;
  min-height: 100vh;
  min-width: 100vw;
  overflow-x: hidden;
}

/* Prevent horizontal scrolling on all containers */
* {
  box-sizing: border-box;
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
  html {
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  body {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Ensure all containers don't exceed viewport width */
  .container,
  .w-full,
  .w-screen {
    max-width: 100vw;
    overflow-x: hidden;
  }
  
  /* Touch-friendly interactive elements */
  button,
  .cursor-pointer,
  [role="button"] {
    min-height: 44px; /* Apple's minimum touch target size */
    min-width: 44px;
  }
  
  /* Prevent text from being too small on mobile */
  input,
  textarea,
  select {
    font-size: 16px; /* Prevent zoom on iOS */
  }
}

/* Custom font utilities */
.font-custom-primary {
  font-family: var(--custom-font-primary) !important;
}

.font-custom-heading {
  font-family: var(--custom-font-heading) !important;
}

/* Custom color utilities */
.text-custom-primary {
  color: var(--custom-primary) !important;
}

.bg-custom-primary {
  background-color: var(--custom-primary) !important;
}

.border-custom-primary {
  border-color: var(--custom-primary) !important;
}

.text-custom-secondary {
  color: var(--custom-secondary) !important;
}

.bg-custom-secondary {
  background-color: var(--custom-secondary) !important;
}

/* Dark mode background override */
@media (prefers-color-scheme: dark) {
  :root {
    --custom-bg-light: #ffffff;
    --custom-bg-dark: #111827;
  }
}

.dark {
  --custom-bg-light: #ffffff;
  --custom-bg-dark: #111827;
}

/* Seasonal Theme Utilities */
.bg-theme-primary {
  background-color: var(--theme-primary) !important;
}

.bg-theme-secondary {
  background-color: var(--theme-secondary) !important;
}

.bg-theme-accent {
  background-color: var(--theme-accent) !important;
}

.bg-theme-background {
  background-color: var(--theme-background) !important;
}

.bg-theme-surface {
  background-color: var(--theme-surface) !important;
}

.text-theme-primary {
  color: var(--theme-primary) !important;
}

.text-theme-secondary {
  color: var(--theme-secondary) !important;
}

.text-theme-accent {
  color: var(--theme-accent) !important;
}

.text-theme-text {
  color: var(--theme-text) !important;
}

.border-theme-primary {
  border-color: var(--theme-primary) !important;
}

.border-theme-accent {
  border-color: var(--theme-accent) !important;
}

/* Hand-drawn animations */
@keyframes hand-drawn-draw {
  0% {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
  }
  100% {
    stroke-dasharray: 1000;
    stroke-dashoffset: 0;
  }
}

.hand-drawn-animate {
  animation: hand-drawn-draw 2s ease-in-out;
}

/* Seasonal background patterns */
.seasonal-background {
  position: relative;
  overflow: hidden;
}

.seasonal-background::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0.05;
  z-index: 0;
  background-size: 40px 40px;
  pointer-events: none;
}

/* Back to school pattern */
.seasonal-background.back-to-school::before {
  background-image: 
    radial-gradient(circle at 20px 20px, var(--theme-primary) 2px, transparent 2px),
    radial-gradient(circle at 10px 30px, var(--theme-accent) 1px, transparent 1px);
}

/* Autumn leaves pattern */
.seasonal-background.autumn::before {
  background-image: 
    radial-gradient(circle at 15px 15px, var(--theme-primary) 3px, transparent 3px),
    radial-gradient(circle at 25px 5px, var(--theme-accent) 2px, transparent 2px);
}

/* Winter snowflakes pattern */
.seasonal-background.winter::before {
  background-image: 
    radial-gradient(circle at 20px 10px, var(--theme-primary) 1px, transparent 1px),
    radial-gradient(circle at 5px 25px, #ffffff 1px, transparent 1px);
}

/* Spring flowers pattern */
.seasonal-background.spring::before {
  background-image: 
    radial-gradient(circle at 10px 10px, var(--theme-accent) 2px, transparent 2px),
    radial-gradient(circle at 30px 20px, var(--theme-primary) 1px, transparent 1px);
}

/* Celebration confetti */
.seasonal-background.celebration::before {
  background-image: 
    linear-gradient(45deg, var(--theme-primary) 25%, transparent 25%),
    linear-gradient(-45deg, var(--theme-accent) 25%, transparent 25%);
  background-size: 20px 20px;
}

/* Subtle Moving Gradient Backgrounds */
@layer components {
  .animated-gradient-bg {
    background: linear-gradient(135deg, 
      rgba(59, 130, 246, 0.05) 0%, 
      rgba(147, 51, 234, 0.03) 25%, 
      rgba(236, 72, 153, 0.04) 50%, 
      rgba(59, 130, 246, 0.02) 75%, 
      rgba(16, 185, 129, 0.03) 100%);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
  }

  .dark .animated-gradient-bg {
    background: linear-gradient(135deg, 
      rgba(59, 130, 246, 0.08) 0%, 
      rgba(147, 51, 234, 0.06) 25%, 
      rgba(236, 72, 153, 0.07) 50%, 
      rgba(59, 130, 246, 0.05) 75%, 
      rgba(16, 185, 129, 0.06) 100%);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
  }

  /* Card Gradient Background */
  .card-gradient-bg {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(248, 250, 252, 0.95) 50%, 
      rgba(241, 245, 249, 0.9) 100%);
    backdrop-filter: blur(10px);
    animation: cardGradientShift 20s ease infinite;
  }

  .dark .card-gradient-bg {
    background: linear-gradient(135deg, 
      rgba(31, 41, 55, 0.9) 0%, 
      rgba(17, 24, 39, 0.95) 50%, 
      rgba(55, 65, 81, 0.9) 100%);
    backdrop-filter: blur(10px);
    animation: cardGradientShift 20s ease infinite;
  }

  /* Floating Pattern Background */
  .floating-pattern-bg {
    position: relative;
    overflow: hidden;
  }

  .floating-pattern-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.03;
    z-index: 0;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.4) 2px, transparent 2px),
      radial-gradient(circle at 80% 20%, rgba(147, 51, 234, 0.3) 2px, transparent 2px),
      radial-gradient(circle at 40% 40%, rgba(16, 185, 129, 0.3) 1px, transparent 1px);
    background-size: 80px 80px, 120px 120px, 100px 100px;
    animation: patternFloat 25s ease-in-out infinite;
    pointer-events: none;
  }

  .dark .floating-pattern-bg::before {
    opacity: 0.06;
  }

  /* Subtle Content Area Animation */
  .content-area-animated {
    animation: contentFloat 30s ease-in-out infinite;
  }
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  25% { background-position: 100% 50%; }
  50% { background-position: 50% 100%; }
  75% { background-position: 0% 100%; }
  100% { background-position: 0% 50%; }
}

@keyframes cardGradientShift {
  0%, 100% { 
    background-position: 0% 50%;
    transform: translateY(0px);
  }
  33% { 
    background-position: 100% 0%;
    transform: translateY(-2px);
  }
  66% { 
    background-position: 50% 100%;
    transform: translateY(1px);
  }
}

@keyframes patternFloat {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  33% { transform: translate(20px, -20px) rotate(120deg); }
  66% { transform: translate(-15px, 15px) rotate(240deg); }
}

@keyframes contentFloat {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-3px); }
}

/* Mobile-first utility classes */
@layer utilities {
  .touch-manipulation {
    touch-action: manipulation;
  }
  
  .overscroll-contain {
    overscroll-behavior: contain;
  }
  
  .scroll-smooth {
    scroll-behavior: smooth;
  }
  
  /* Prevent horizontal overflow */
  .prevent-horizontal-scroll {
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Mobile-optimized spacing */
  @media (max-width: 640px) {
    .mobile-p-4 {
      padding: 1rem;
    }
    
    .mobile-p-6 {
      padding: 1.5rem;
    }
    
    .mobile-text-sm {
      font-size: 0.875rem;
      line-height: 1.25rem;
    }
    
    .mobile-text-base {
      font-size: 1rem;
      line-height: 1.5rem;
    }
  }
}

/* Universal Card Animation */
.card-appear {
  animation: cardAppear 0.9s ease-out;
}

.card-appear-delayed {
  animation: cardAppear 0.9s ease-out 0.2s both;
}

.card-appear-staggered {
  animation: cardAppear 0.9s ease-out var(--delay, 0s) both;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .card-appear,
  .card-appear-delayed,
  .card-appear-staggered,
  .animated-gradient-bg,
  .card-gradient-bg,
  .floating-pattern-bg {
    animation: none !important;
  }
  
  .animated-gradient-bg,
  .card-gradient-bg {
    background-position: 0% 50% !important;
  }
}

@keyframes cardAppear {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}